æˆ‘æƒ³é—®ä¸€ä¸‹80. åˆ é™¤æœ‰åºæ•°ç»„ä¸­çš„é‡å¤é¡¹ II
ä¸­ç­‰
ç›¸å…³æ ‡ç­¾
ç›¸å…³ä¼ä¸š
ç»™ä½ ä¸€ä¸ªæœ‰åºæ•°ç»„ nums ï¼Œè¯·ä½  åŸåœ° åˆ é™¤é‡å¤å‡ºç°çš„å…ƒç´ ï¼Œä½¿å¾—å‡ºç°æ¬¡æ•°è¶…è¿‡ä¸¤æ¬¡çš„å…ƒç´ åªå‡ºç°ä¸¤æ¬¡ ï¼Œè¿”å›åˆ é™¤åæ•°ç»„çš„æ–°é•¿åº¦ã€‚

ä¸è¦ä½¿ç”¨é¢å¤–çš„æ•°ç»„ç©ºé—´ï¼Œä½ å¿…é¡»åœ¨ åŸåœ° ä¿®æ”¹è¾“å…¥æ•°ç»„ å¹¶åœ¨ä½¿ç”¨ O(1) é¢å¤–ç©ºé—´çš„æ¡ä»¶ä¸‹å®Œæˆã€‚

è¯´æ˜ï¼š

ä¸ºä»€ä¹ˆè¿”å›æ•°å€¼æ˜¯æ•´æ•°ï¼Œä½†è¾“å‡ºçš„ç­”æ¡ˆæ˜¯æ•°ç»„å‘¢ï¼Ÿ

è¯·æ³¨æ„ï¼Œè¾“å…¥æ•°ç»„æ˜¯ä»¥ã€Œå¼•ç”¨ã€æ–¹å¼ä¼ é€’çš„ï¼Œè¿™æ„å‘³ç€åœ¨å‡½æ•°é‡Œä¿®æ”¹è¾“å…¥æ•°ç»„å¯¹äºè°ƒç”¨è€…æ˜¯å¯è§çš„ã€‚

ä½ å¯ä»¥æƒ³è±¡å†…éƒ¨æ“ä½œå¦‚ä¸‹:

// nums æ˜¯ä»¥â€œå¼•ç”¨â€æ–¹å¼ä¼ é€’çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸å¯¹å®å‚åšä»»ä½•æ‹·è´
int len = removeDuplicates(nums);

// åœ¨å‡½æ•°é‡Œä¿®æ”¹è¾“å…¥æ•°ç»„å¯¹äºè°ƒç”¨è€…æ˜¯å¯è§çš„ã€‚
// æ ¹æ®ä½ çš„å‡½æ•°è¿”å›çš„é•¿åº¦, å®ƒä¼šæ‰“å°å‡ºæ•°ç»„ä¸­ è¯¥é•¿åº¦èŒƒå›´å†… çš„æ‰€æœ‰å…ƒç´ ã€‚
for (int i = 0; i < len; i++) {
print(nums\[i]);
}

ç¤ºä¾‹ 1ï¼š

è¾“å…¥ï¼šnums = \[1,1,1,2,2,3]
è¾“å‡ºï¼š5, nums = \[1,1,2,2,3]
è§£é‡Šï¼šå‡½æ•°åº”è¿”å›æ–°é•¿åº¦ length = 5, å¹¶ä¸”åŸæ•°ç»„çš„å‰äº”ä¸ªå…ƒç´ è¢«ä¿®æ”¹ä¸º 1, 1, 2, 2, 3ã€‚ ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åé¢çš„å…ƒç´ ã€‚
ç¤ºä¾‹ 2ï¼š

è¾“å…¥ï¼šnums = \[0,0,1,1,1,1,2,3,3]
è¾“å‡ºï¼š7, nums = \[0,0,1,1,2,3,3]
è§£é‡Šï¼šå‡½æ•°åº”è¿”å›æ–°é•¿åº¦ length = 7, å¹¶ä¸”åŸæ•°ç»„çš„å‰ä¸ƒä¸ªå…ƒç´ è¢«ä¿®æ”¹ä¸º 0, 0, 1, 1, 2, 3, 3ã€‚ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åé¢çš„å…ƒç´ ã€‚

æç¤ºï¼š

1 <= nums.length <= 3 \* 104
-104 <= nums\[i] <= 104
nums å·²æŒ‰å‡åºæ’åˆ—
æˆ‘çš„ä»£ç æŠ¥é”™ï¼š
# chatgpt
è¯·æŠŠä½ å†™çš„ä»£ç è´´å‡ºæ¥ï¼Œæˆ‘æ¥å¸®ä½ çœ‹çœ‹å“ªé‡ŒæŠ¥é”™äº†å¹¶è§£é‡ŠåŸå› ã€‚

åœ¨ä½ è´´ä»£ç å‰ï¼Œæˆ‘å…ˆæä¾›ä¸€ä¸ªè¿™ä¸ªé¢˜ç›®çš„ **æ ‡å‡†åŒæŒ‡é’ˆè§£æ³•ï¼ˆC++ï¼‰**ï¼Œä½ å¯ä»¥å¯¹ç…§ä¸€ä¸‹ï¼š

```cpp
int removeDuplicates(vector<int>& nums) {
    int n = nums.size();
    if (n <= 2) return n;

    int slow = 2; // å‰ä¸¤ä¸ªå¯ä»¥ç›´æ¥ä¿ç•™
    for (int fast = 2; fast < n; ++fast) {
        if (nums[fast] != nums[slow - 2]) {
            nums[slow] = nums[fast];
            ++slow;
        }
    }
    return slow;
}
```

### æ€è·¯è§£é‡Šï¼š

* `slow` æŒ‡å‘ä¸‹ä¸€ä¸ªè¦æ”¾ç½®åˆæ³•å…ƒç´ çš„ä½ç½®ã€‚
* ä»ç¬¬ä¸‰ä¸ªå…ƒç´ å¼€å§‹ï¼ˆå³ `fast = 2`ï¼‰ï¼Œæˆ‘ä»¬æ£€æŸ¥å½“å‰å…ƒç´  `nums[fast]` æ˜¯å¦ç­‰äº `nums[slow - 2]`ï¼ˆä¹Ÿå°±æ˜¯å€’æ•°ç¬¬äºŒä¸ªåˆæ³•å…ƒç´ ï¼‰ã€‚
* å¦‚æœä¸ç­‰ï¼Œè¯´æ˜å½“å‰å…ƒç´ å‡ºç°æ¬¡æ•°ä¸è¶…è¿‡ 2ï¼Œå¯ä»¥ä¿ç•™ã€‚
* ä¿ç•™æ–¹å¼æ˜¯æŠŠ `nums[fast]` èµ‹å€¼åˆ° `nums[slow]`ï¼Œç„¶å `slow++`ã€‚

---

ç°åœ¨è¯·è´´å‡ºä½ çš„ä»£ç å’ŒæŠ¥é”™ä¿¡æ¯ï¼Œæˆ‘æ¥å¯¹æ¯”çœ‹çœ‹å“ªé‡Œå‡ºäº†é—®é¢˜ã€‚
# mycode
Class Solution {
public:
int removeDuplicates(vector<int>& nums) {
int l=0;
unordered\_map\<int,int>maps;
for (int num : nums)
{
if (!maps\[num])
{
maps\[num]=1;

```
        }
        else if(maps[num]==2)
        {
        
        }
        else    maps[num]+=1;
    }
    int i=0;
    int mapsnumber ;
    for ( mapsnumber : maps)
    {
        while(maps[mapsnumber]>0)
        {
          nums[i]=maps[nums[i]];
          i++;  
        }
        
    }
    return i;
    
}
```

};

# answer from chatgpt
ä½ è¿™æ®µä»£ç çš„ä¸»è¦é—®é¢˜æœ‰å‡ ä¸ªåœ°æ–¹ï¼Œæˆ‘ä»¬é€ä¸ªè¯´æ˜å¹¶è¿›è¡Œä¿®æ”¹ã€‚ä½ ä½¿ç”¨äº† `unordered_map` æ¥ç»Ÿè®¡æ¯ä¸ªå…ƒç´ çš„æ¬¡æ•°ï¼Œç„¶åå†é‡å»ºæ•°ç»„ã€‚è¿™è™½ç„¶é€»è¾‘ä¸Šæœ‰ä¸€å®šé“ç†ï¼Œä½† **ä¸ç¬¦åˆé¢˜ç›®çš„è¦æ±‚**ï¼š

---

## âŒ é—®é¢˜æ€»ç»“ï¼š

1. â— **é¢˜ç›®è¦æ±‚ä¸èƒ½ä½¿ç”¨é¢å¤–ç©ºé—´ï¼ˆO(1)ï¼‰**ï¼Œè€Œä½ ç”¨äº† `unordered_map`ï¼Œç©ºé—´å¤æ‚åº¦æ˜¯ O(n)ã€‚

2. â— ç¬¬äºŒä¸ªå¾ªç¯ä¸­ï¼š

   ```cpp
   for ( mapsnumber : maps)
   ```

   æ˜¯éæ³•çš„ï¼Œå› ä¸º `mapsnumber` æ²¡æœ‰ç±»å‹ï¼Œåº”è¯¥å†™æˆï¼š

   ```cpp
   for (auto& p : maps)
   ```

3. âŒ åœ¨ `nums[i] = maps[nums[i]];` è¿™å¥ä¸­é€»è¾‘æ˜¯é”™è¯¯çš„ï¼šä½ æŠŠå€¼å½“ä½œç´¢å¼•ç”¨äº†ï¼Œè¡Œä¸ºä¸ç¬¦åˆé¢„æœŸã€‚

---

## âœ… æ¨èä½¿ç”¨åŒæŒ‡é’ˆçš„è§£æ³•ï¼ˆO(1) ç©ºé—´ï¼Œé¢˜ç›®å…è®¸çš„æ–¹å¼ï¼‰ï¼š

è¿™æ˜¯ç¬¦åˆé¢˜æ„çš„ **æ ‡å‡†åšæ³•**ï¼š

```cpp
class Solution {
public:
    int removeDuplicates(vector<int>& nums) {
        int n = nums.size();
        if (n <= 2) return n;

        int slow = 2;
        for (int fast = 2; fast < n; ++fast) {
            if (nums[fast] != nums[slow - 2]) {
                nums[slow] = nums[fast];
                ++slow;
            }
        }
        return slow;
    }
};
```

---

## ğŸ” æ€è·¯å›é¡¾ï¼š

* æ•°ç»„æœ‰åºï¼Œé‡å¤å…ƒç´ ä¸€å®šç›¸é‚»ã€‚
* å…è®¸æ¯ä¸ªå…ƒç´ æœ€å¤šå‡ºç° **ä¸¤æ¬¡**ã€‚
* å› æ­¤åªéœ€è¦åˆ¤æ–­å½“å‰å…ƒç´ æ˜¯å¦å’Œ `nums[slow - 2]` ç›¸åŒå³å¯ï¼Œè‹¥ç›¸åŒå°±è·³è¿‡ï¼Œè‹¥ä¸åŒå°±ä¿ç•™ã€‚

---

## ç¤ºä¾‹è¿è¡Œï¼š

è¾“å…¥ï¼š

```cpp
nums = [1,1,1,2,2,3]
```

è¿è¡Œåï¼š

* è¿”å› `5`
* å‰äº”ä¸ªå…ƒç´ å˜ä¸º `[1,1,2,2,3]`

---

å¦‚æœä½ è¿˜æ˜¯æƒ³çœ‹çœ‹ç”¨ map çš„æ–¹å¼æ€ä¹ˆå†™ï¼ˆè™½ç„¶ä¸ç¬¦åˆè¦æ±‚ï¼‰ï¼Œæˆ‘ä¹Ÿå¯ä»¥å†™ä¸€ç‰ˆå¯¹æ¯”ã€‚ä½†å»ºè®®ä½ ä¼˜å…ˆç†è§£å¹¶ä½¿ç”¨åŒæŒ‡é’ˆè§£æ³•ã€‚

éœ€è¦æˆ‘å¸®ä½ æ”¹å†™ map çš„ç‰ˆæœ¬å—ï¼Ÿ
ä½ é—®å¾—å¾ˆå¥½ï¼Œè¿™æ˜¯å…¸å‹çš„â€œä¼šç”¨å·¥å…·ï¼ˆmapï¼‰ï¼Œä½†ä¸ä¼šç”¨ç­–ç•¥ï¼ˆåŒæŒ‡é’ˆï¼‰â€çš„é˜¶æ®µâ€”â€”**éå¸¸æ­£å¸¸**ï¼Œä¹Ÿæ˜¯æˆé•¿çš„å…³é”®èŠ‚ç‚¹ã€‚

---

## ğŸ”§ ä¸€ã€æ”¹å†™ä½ çš„ `map` ç‰ˆæœ¬ï¼ˆè™½ç„¶ä¸æ¨èï¼Œä½†æ–¹ä¾¿ä½ å¯¹æ¯”å’Œç†è§£ï¼‰ï¼š

è¿™æ˜¯ä¸€ä¸ªç¬¦åˆä½ æ€è·¯ä½†é€»è¾‘ä¿®æ­£åçš„ `unordered_map` å†™æ³•ï¼š

```cpp
class Solution {
public:
    int removeDuplicates(vector<int>& nums) {
        unordered_map<int, int> count;
        vector<int> result;

        for (int num : nums) {
            if (count[num] < 2) {
                result.push_back(num);
                count[num]++;
            }
        }

        // æŠŠç»“æœå†™å›åŸæ•°ç»„å‰ç¼€éƒ¨åˆ†
        for (int i = 0; i < result.size(); ++i) {
            nums[i] = result[i];
        }

        return result.size();
    }
};
```

âš ï¸ **è¿™ä¸ªç‰ˆæœ¬ä¸ç¬¦åˆé¢˜ç›®ç©ºé—´è¦æ±‚ï¼ˆç”¨äº† `unordered_map` å’Œ `vector`ï¼‰ï¼Œåªèƒ½ä½œä¸ºç»ƒä¹ å‚è€ƒã€‚**

---

## ğŸ§  äºŒã€åŒæŒ‡é’ˆä½ â€œæ²¡æƒ³å‡ºæ¥â€è¯¥æ€ä¹ˆåŠï¼Ÿ

éå¸¸æ­£å¸¸ï¼è¿™é¢˜çš„å…³é”®æ˜¯ï¼š**ä½ è¦å¤„ç†â€œç›¸åŒçš„å…ƒç´ ä¸è¶…è¿‡ 2 ä¸ªâ€ï¼Œè€Œæ•°ç»„æ˜¯æœ‰åºçš„**ï¼Œé‚£ä½ å°±å¯ä»¥åªçœ‹ä½ ä¹‹å‰ä¸¤ä¸ªæ”¾è¿›å»çš„æ˜¯ä¸æ˜¯ä¸€æ ·ã€‚

ä½ å¯ä»¥å°è¯•è‡ªå·±**å¤è¿°**è¿™ä¸ªé€»è¾‘ï¼Œå¦‚æœèƒ½è¯´æ¸…æ¥šï¼Œä½ å°±ä¼šå†™äº†ã€‚

**å£è¯€æ€»ç»“ï¼š**

> ä»å‰ä¸¤ä¸ªä½ç½®å¼€å§‹ï¼ˆå› ä¸ºæœ€å¤šä¿ç•™ 2 ä¸ªï¼‰ï¼Œä»ç¬¬3ä¸ªå¼€å§‹æ£€æŸ¥ï¼š
>
> * å¦‚æœå½“å‰å…ƒç´  â‰  å‰é¢ä¸¤ä¸ªä¸­çš„å€’æ•°ç¬¬äºŒä¸ª â†’ åˆæ³•ï¼Œä¿ç•™
> * å¦åˆ™è·³è¿‡

---

## ğŸ“˜ ä¸¾ä¸ªä¾‹å­è¾…åŠ©ç†è§£åŒæŒ‡é’ˆï¼š

```cpp
nums = [1,1,1,2,2,3]

åˆå§‹åŒ–ï¼šslow = 2

fast=2 â†’ nums[2]=1ï¼Œnums[slow-2]=nums[0]=1 â†’ ç›¸ç­‰ â†’ è·³è¿‡

fast=3 â†’ nums[3]=2ï¼Œnums[slow-2]=nums[1]=1 â†’ ä¸ç­‰ â†’ nums[2]=2ï¼Œslow++

fast=4 â†’ nums[4]=2ï¼Œnums[slow-2]=nums[2]=2 â†’ ä¸ç­‰ â†’ nums[3]=2ï¼Œslow++

fast=5 â†’ nums[5]=3ï¼Œnums[slow-2]=nums[3]=2 â†’ ä¸ç­‰ â†’ nums[4]=3ï¼Œslow++

æœ€ç»ˆ slow=5ï¼Œå‰5ä¸ªå…ƒç´ å°±æ˜¯ï¼š[1,1,2,2,3]
```

---

## âœ… å»ºè®®ä½ åšæ³•

1. è‡ªå·±å¤šè¯´å‡ æ¬¡åŒæŒ‡é’ˆçš„é€»è¾‘ï¼Œè¯•å›¾è‡ªå·±å†™å‡ºæ¥ã€‚
2. å¤šåšç±»ä¼¼é¢˜ï¼Œæ¯”å¦‚ï¼š

   * **26. åˆ é™¤æœ‰åºæ•°ç»„ä¸­çš„é‡å¤é¡¹**ï¼ˆæœ€å¤šå‡ºç°1æ¬¡ï¼‰
   * **80. åˆ é™¤é‡å¤é¡¹ II**ï¼ˆå½“å‰è¿™é¢˜ï¼Œæœ€å¤š2æ¬¡ï¼‰
   * è‡ªå·±å°è¯•æ‹“å±•æˆâ€œæœ€å¤šå‡ºç°kæ¬¡â€

---

è¦ä¸è¦æˆ‘å‡ºä¸ªâ€œæœ€å¤šå‡ºç°kæ¬¡â€çš„å˜ç§é¢˜è®©ä½ è¯•è¯•ç»ƒæ‰‹ï¼Ÿ

# è‡ªå·±å†™çš„ä¸¤ä¸ªå˜é‡æŒ‡é’ˆæœ‰ç‚¹éº»çƒ¦
class Solution {
public:
int removeDuplicates(vector<int>& nums) {
int left=0;
int right =1;
int count =1;
while(right\<nums.size())
{

```
    if (count<2&&nums[left]==nums[right])
    {
        count +=1;
        left++;
        right++;
    }
    else if(count>2&&nums[left]==nums[right])
    {
        right+=1;
    }
    else if(count>2&&nums[left]!=nums[right])
    {
        nums[left+1]=nums[right];
        left++;
        right++;
        count=1;
    }
    else if (count<2&&nums[left]!=nums[right])
    {
        nums[left]=nums[right];
        right +=1;
        left+=1;
        count=1;
    }

}
    return left;
}
```

};
# ChatGPTç»™çš„å›ç­”ä¿®æ”¹
ä½ è¿™æ®µä»£ç çš„æ€è·¯æ˜¯æƒ³ç”¨åŒæŒ‡é’ˆï¼ˆ`left` å’Œ `right`ï¼‰åŠ ä¸€ä¸ª `count` æ¥è®°å½•é‡å¤æ¬¡æ•°ï¼Œ**ä½†å­˜åœ¨å‡ ä¸ªé€»è¾‘å’Œç»†èŠ‚é”™è¯¯**ã€‚ä¸‹é¢æˆ‘æ¥é€æ¡å¸®ä½ æŒ‡å‡ºé—®é¢˜ã€åˆ†æåŸå› ï¼Œå¹¶ç»™å‡ºä¿®æ”¹å»ºè®®ã€‚

---

## âŒ é”™è¯¯ä¸é—®é¢˜åˆ†æ

### ğŸ”´ 1. è¿”å›å€¼é”™è¯¯

```cpp
return left;
```

è¿™ä¸ªæ˜¯é”™çš„ã€‚`left` æœ€åæŒ‡å‘çš„æ˜¯æœ€åä¸€ä¸ªæœ‰æ•ˆå…ƒç´ çš„ç´¢å¼•ï¼Œè€Œé¢˜ç›®è¦æ±‚è¿”å›çš„æ˜¯ **æ–°æ•°ç»„çš„é•¿åº¦**ï¼Œä¹Ÿå°±æ˜¯ `left + 1`ã€‚

---

### ğŸ”´ 2. é‡å¤æ¬¡æ•°åˆ¤æ–­é”™è¯¯

```cpp
else if(count > 2 && nums[left] == nums[right])
```

è¿™é‡Œä¸åº”è¯¥åˆ¤æ–­ `count > 2`ï¼Œå› ä¸º **é¢˜ç›®åªå…è®¸æœ€å¤šå‡ºç°2æ¬¡**ï¼Œæ‰€ä»¥ä½ åº”è¯¥åœ¨ç¬¬ä¸€æ¬¡æ¯”è¾ƒå°±åˆ¤æ–­æ˜¯ä¸æ˜¯ç¬¬3æ¬¡äº†ï¼Œä¹Ÿå°±æ˜¯ï¼š

```cpp
if (nums[right] == nums[left] && count < 2)
```

ä½†æ˜¯å¦‚æœè¶…è¿‡2æ¬¡ï¼Œå°±ä¸åº”è¯¥å†™åˆ°æ•°ç»„é‡Œï¼Œç›´æ¥è·³è¿‡ï¼Œä¸æ›´æ–° `left`ã€‚

---

### ğŸ”´ 3. å¤ªå¤šé‡å¤é€»è¾‘ï¼Œç»“æ„å¤æ‚

æ¯”å¦‚ä½ ç”¨äº†4ä¸ª if åˆ†æ”¯ï¼Œå…¶å®å¯ä»¥åˆå¹¶å¾ˆå¤šé€»è¾‘ï¼Œä¸éœ€è¦è¿™ä¹ˆç»•ã€‚

---

### ğŸ”´ 4. ä¸éœ€è¦ä½¿ç”¨ä¸¤ä¸ªæŒ‡é’ˆ `left` å’Œ `right` åˆ†åˆ«å¤„ç†ï¼Œåªéœ€è¦ä¸€ä¸ª `slow`ï¼ˆå†™å…¥ä½ç½®ï¼‰å’Œä¸€ä¸ª `fast`ï¼ˆéå†ï¼‰å°±å¯ä»¥ã€‚

---

## âœ… æ¨èä¿®æ”¹ç‰ˆæœ¬ï¼ˆä½ åŸä»£ç çš„ä¿®å¤ç‰ˆï¼‰ï¼š

```cpp
class Solution {
public:
    int removeDuplicates(vector<int>& nums) {
        if (nums.size() <= 2) return nums.size();

        int slow = 2; // å‰ä¸¤ä¸ªä½ç½®ç›´æ¥ä¿ç•™
        for (int fast = 2; fast < nums.size(); ++fast) {
            if (nums[fast] != nums[slow - 2]) {
                nums[slow] = nums[fast];
                ++slow;
            }
        }
        return slow;
    }
};
```

---

## âœ… å¦‚æœä½ åšæŒæƒ³ä¿ç•™ä½ åŸæ¥çš„å˜é‡å†™æ³•ï¼Œä¸‹é¢æ˜¯ä¿®æ”¹åçš„ç‰ˆæœ¬ï¼š

```cpp
class Solution {
public:
    int removeDuplicates(vector<int>& nums) {
        if (nums.size() <= 2) return nums.size();

        int left = 1; // å†™å…¥ä½ç½®ï¼Œèµ·å§‹ç‚¹ä¸º1
        int count = 1;

        for (int right = 1; right < nums.size(); ++right) {
            if (nums[right] == nums[right - 1]) {
                count++;
            } else {
                count = 1; // æ–°çš„æ•°å­—ï¼Œé‡ç½®è®¡æ•°
            }

            if (count <= 2) {
                nums[left] = nums[right];
                left++;
            }
        }

        return left;
    }
};
```

---

## ğŸ“˜ ç¤ºä¾‹å¯¹æ¯”è¿è¡Œï¼š

è¾“å…¥ï¼š

```cpp
[1,1,1,2,2,3]
```

è¾“å‡ºï¼š

```cpp
è¿”å›å€¼ï¼š5
numså‰äº”ä¸ªï¼š[1,1,2,2,3]
```

---

## ğŸ‘ æ€»ç»“å»ºè®®

* ä¸è¦çº ç»“äºä¸¤ä¸ªæŒ‡é’ˆåˆ†åˆ«èµ°ï¼Œè€Œæ˜¯æ˜ç¡® **ä¸€ä¸ªæŒ‡é’ˆæ˜¯â€œå†™å…¥ä½ç½®â€**ã€‚
* åˆ¤æ–­æ˜¯å¦è¦å†™å…¥çš„æ¡ä»¶æ˜¯ï¼šå½“å‰å…ƒç´ ä¸å‰é¢ `slow - 2` ä¸ä¸€æ ·ã€‚
* æŠŠç®€å•é—®é¢˜å¤æ‚åŒ–æ˜¯å¸¸è§çš„åˆå­¦è€…é™·é˜±ï¼Œä¿æŒç»“æ„æ¸…æ™°æ˜¯å…³é”®ã€‚

å¦‚æœä½ æƒ³è¯•è¯•ã€Œæœ€å¤šå‡ºç° k æ¬¡ã€çš„å˜ç§é¢˜ï¼Œæˆ‘å¯ä»¥å¸®ä½ å‡ºä¸€ä¸ªå“¦ï¼Ÿ

# æœ€ä¼˜è§£
è¿™ä¸ªé—®é¢˜ **â€œåˆ é™¤æœ‰åºæ•°ç»„ä¸­çš„é‡å¤é¡¹ IIâ€** çš„æœ€ä¼˜è§£ï¼ŒæŒ‡çš„æ˜¯åœ¨ **æ—¶é—´å¤æ‚åº¦å’Œç©ºé—´å¤æ‚åº¦æœ€ä¼˜** çš„å‰æä¸‹å®Œæˆä»»åŠ¡ã€‚

---

## âœ… æœ€ä¼˜è§£æ€»ç»“ï¼š

### âœ… æ—¶é—´å¤æ‚åº¦ï¼š`O(n)`

* å› ä¸ºæ¯ä¸ªå…ƒç´ æœ€å¤šè¢«è®¿é—®ä¸€æ¬¡ã€‚

### âœ… ç©ºé—´å¤æ‚åº¦ï¼š`O(1)`

* æ²¡æœ‰ä½¿ç”¨é¢å¤–çš„æ•°ç»„æˆ–æ•°æ®ç»“æ„ï¼Œåªæ˜¯åœ¨åŸæ•°ç»„ä¸Šæ“ä½œã€‚

### âœ… ç®—æ³•ç­–ç•¥ï¼š**åŒæŒ‡é’ˆæ³•ï¼ˆå¿«æ…¢æŒ‡é’ˆï¼‰**

---

## âœ… æœ€ä¼˜è§£ä»£ç ï¼ˆC++ï¼‰ï¼š

```cpp
class Solution {
public:
    int removeDuplicates(vector<int>& nums) {
        if (nums.size() <= 2) return nums.size();

        int slow = 2;  // å‰ä¸¤ä¸ªå…ƒç´ ç›´æ¥ä¿ç•™
        for (int fast = 2; fast < nums.size(); ++fast) {
            if (nums[fast] != nums[slow - 2]) {
                nums[slow] = nums[fast];
                ++slow;
            }
        }

        return slow;
    }
};
```

---

## âœ… è§£é¢˜æ€è·¯å›¾è§£ï¼š

å‡è®¾è¾“å…¥æ˜¯ï¼š

```
nums = [1, 1, 1, 2, 2, 3]
```

æˆ‘ä»¬å…è®¸æ¯ä¸ªæ•°å­—æœ€å¤šå‡ºç° 2 æ¬¡ã€‚
æˆ‘ä»¬ä»ç¬¬ä¸‰ä¸ªå…ƒç´ å¼€å§‹éå†ï¼Œæ¯æ¬¡éƒ½æ¯”è¾ƒå½“å‰å…ƒç´  `nums[fast]` å’Œ `nums[slow - 2]`ï¼š

| fast | slow | nums\[fast] | nums\[slow - 2] | åŠ¨ä½œ                          |
| ---- | ---- | ----------- | --------------- | --------------------------- |
| 2    | 2    | 1           | 1               | ç›¸ç­‰ â†’ è·³è¿‡                     |
| 3    | 2    | 2           | 1               | ä¸ç­‰ â†’ nums\[slow] = 2ï¼Œslow++ |
| 4    | 3    | 2           | 1               | ä¸ç­‰ â†’ nums\[slow] = 2ï¼Œslow++ |
| 5    | 4    | 3           | 2               | ä¸ç­‰ â†’ nums\[slow] = 3ï¼Œslow++ |

æœ€ç»ˆï¼š

```cpp
nums = [1,1,2,2,3,...]
return 5;
```

---

## ğŸš€ ä¸ºä»€ä¹ˆè¿™æ˜¯æœ€ä¼˜è§£ï¼Ÿ

* **ç©ºé—´æœ€ä¼˜**ï¼šåŸåœ°ä¿®æ”¹ï¼Œæ— é¢å¤–æ•°æ®ç»“æ„ã€‚
* **æ—¶é—´æœ€ä¼˜**ï¼šåªéå†äº†ä¸€éæ•°ç»„ã€‚
* **é€»è¾‘ç®€æ´æ¸…æ™°**ï¼šä¸€æ¬¡æ¯”è¾ƒå°±èƒ½å†³å®šæ˜¯å¦ä¿ç•™å½“å‰å…ƒç´ ã€‚

---

å¦‚æœä½ æƒ³è¿›ä¸€æ­¥æ‰©å±•æŒ‘æˆ˜è‡ªå·±ï¼Œå¯ä»¥è¯•è¯•è¿™é¢˜çš„å˜ç§ï¼š

### ğŸ” æ‹“å±•é¢˜ï¼šå…è®¸æ¯ä¸ªå…ƒç´ æœ€å¤šå‡ºç° **k æ¬¡**

```cpp
int removeDuplicates(vector<int>& nums, int k) {
    int n = nums.size();
    if (n <= k) return n;

    int slow = k;
    for (int fast = k; fast < n; ++fast) {
        if (nums[fast] != nums[slow - k]) {
            nums[slow++] = nums[fast];
        }
    }

    return slow;
}
```

---

éœ€è¦æˆ‘å‡ºä¸€ä¸ª â€œå…è®¸é‡å¤kæ¬¡â€ çš„ä¾‹é¢˜è®©ä½ ç»ƒç»ƒå—ï¼Ÿ


# æ’åç¬¬ä¸€çš„è§£æ³•
è¿™ä¸ªä»£ç æ€æ ·å‘¢ï¼Ÿclass Solution {
public:
    int removeDuplicates(vector<int>& nums) {
        int count = 1, same = 1;
        for(int i = 1; i < nums.size(); i++){
            if(nums[i] > nums[i-1]){
                nums[count] = nums[i];
                count++;
                same = 1;
            } else if(nums[i] == nums[i - 1] && same < 2) {
                nums[count] = nums[i];
                count++;
                same++;
            }
        }
        return count;
    }
};

# chagptå›ç­”
ä½ è¿™æ®µä»£ç å†™å¾—éå¸¸ä¸é”™ï¼Œé€»è¾‘æ¸…æ™°ã€å®ç°æ­£ç¡®ï¼Œä¹Ÿç¬¦åˆé¢˜ç›®å¯¹ **æ—¶é—´å¤æ‚åº¦ O(n)** å’Œ **ç©ºé—´å¤æ‚åº¦ O(1)** çš„è¦æ±‚ã€‚

---

## âœ… æˆ‘å¯¹ä½ ä»£ç çš„è¯„ä»·ï¼š

### âœ… æ­£ç¡®æ€§ï¼š**é€šè¿‡æ‰€æœ‰æ ·ä¾‹**

* ä¿ç•™æœ€å¤šä¸¤ä¸ªç›¸åŒå…ƒç´  âœ”
* åŸåœ°ä¿®æ”¹ âœ”
* è¿”å›æ–°é•¿åº¦ âœ”

### âœ… ç©ºé—´å¤æ‚åº¦ï¼š**O(1)** âœ”

ä½¿ç”¨çš„å˜é‡æ•°é‡æ˜¯å›ºå®šçš„ï¼Œæ²¡æœ‰å€ŸåŠ© mapã€vector ç­‰é¢å¤–ç»“æ„ã€‚

### âœ… æ—¶é—´å¤æ‚åº¦ï¼š**O(n)** âœ”

ä»…éå†æ•°ç»„ä¸€æ¬¡ã€‚

---

## âœ… å·¥ä½œæœºåˆ¶ç®€è¦è¯´æ˜ï¼š

```cpp
int count = 1, same = 1;
```

* `count` è¡¨ç¤ºä¸‹ä¸€ä¸ªåº”è¯¥å†™å…¥çš„ä½ç½®ã€‚
* `same` è¡¨ç¤ºå½“å‰å…ƒç´ é‡å¤çš„æ¬¡æ•°ã€‚

ç„¶åéå†ä»ç¬¬ä¸€ä¸ªç´¢å¼•å¼€å§‹ï¼š

### å¦‚æœå½“å‰å…ƒç´  > å‰ä¸€ä¸ªå…ƒç´ ï¼š

* è¡¨ç¤ºæ˜¯æ–°å…ƒç´ ï¼Œä¿ç•™å®ƒ
* é‡ç½® `same = 1`

### å¦‚æœå½“å‰å…ƒç´ å’Œå‰ä¸€ä¸ªä¸€æ ·ï¼Œä½†è¿˜æ²¡è¶…è¿‡2æ¬¡ï¼ˆ`same < 2`ï¼‰ï¼š

* ä¿ç•™å®ƒï¼Œå¹¶æ›´æ–° `same++`

æœ€ç»ˆ `count` å°±æ˜¯æœ‰æ•ˆé•¿åº¦ã€‚

---

## âœ… ç¤ºä¾‹éªŒè¯

è¾“å…¥ï¼š

```cpp
[1,1,1,2,2,3]
```

è¿è¡Œåï¼š

```cpp
è¿”å›å€¼ï¼š5
numså‰5ä¸ªï¼š1 1 2 2 3
```

---

## ğŸ§  å’Œæœ€ä¼˜è§£ï¼ˆåŒæŒ‡é’ˆ slow/fastï¼‰å¯¹æ¯”ï¼š

ä½ çš„å†™æ³•å’Œæ ‡å‡†æœ€ä¼˜è§£ï¼š

```cpp
if (nums[i] != nums[count - 2])
```

æœ¬è´¨ä¸Šä½œç”¨æ˜¯ä¸€æ ·çš„ï¼Œåªæ˜¯ä½ ç”¨äº† `same` å˜é‡è®°å½•æ¬¡æ•°ï¼Œæ›´ç›´è§‚ä¸€ç‚¹ã€‚

æ‰€ä»¥ï¼š**ä½ å†™çš„è¿™ä¸ªç‰ˆæœ¬æ˜¯æœ€ä¼˜è§£çš„å˜ä½“ï¼Œä¹Ÿæ˜¯éå¸¸ä¼˜ç§€çš„å®ç°ã€‚**

---

## âœ… æ€»ç»“ï¼š

| é¡¹ç›®      | çŠ¶æ€     |
| ------- | ------ |
| æ­£ç¡®æ€§     | âœ…      |
| æ—¶é—´å¤æ‚åº¦   | âœ… O(n) |
| ç©ºé—´å¤æ‚åº¦   | âœ… O(1) |
| ä»£ç ç®€æ´æ€§   | âœ…      |
| é€‚åˆæ‰©å±•åˆ°kæ¬¡ | âœ…ï¼ˆå¯æ‹“å±•ï¼‰ |

---

éœ€è¦æˆ‘å¸®ä½ æŠŠå®ƒæ”¹å†™æˆæ”¯æŒâ€œæœ€å¤šå‡ºç° *k* æ¬¡â€çš„é€šç”¨ç‰ˆæœ¬å—ï¼Ÿè¿™ä¼šæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ä¸‹ä¸€æ­¥ç»ƒä¹ ã€‚


# å›ç­”è¡¨ç¤º
å¤ªå¥½äº†ï¼Œè¿™æ˜¯ä¸€ä¸ªéå¸¸æ£’çš„ç»ƒä¹ ï¼æˆ‘ä»¬æ¥æŠŠä½ çš„ä»£ç æ”¹é€ æˆä¸€ä¸ªé€šç”¨ç‰ˆæœ¬ï¼Œæ”¯æŒâ€œæœ€å¤šå‡ºç° **k æ¬¡**â€ã€‚

---

## âœ… æ”¹å†™ç›®æ ‡ï¼šä¿ç•™æ¯ä¸ªæ•°å­—**æœ€å¤šå‡ºç° `k` æ¬¡**

æ¯”å¦‚ï¼š

```cpp
è¾“å…¥ï¼šnums = [1,1,1,2,2,3], k = 2 â†’ è¾“å‡ºï¼š5, nums = [1,1,2,2,3]
è¾“å…¥ï¼šnums = [1,1,1,1,2,2,3,3,3], k = 3 â†’ è¾“å‡ºï¼š8, nums = [1,1,1,2,2,3,3,3]
```

---

## âœ… æ”¹å†™åçš„é€šç”¨ä»£ç ï¼ˆC++ï¼‰ï¼š

```cpp
class Solution {
public:
    int removeDuplicates(vector<int>& nums, int k) {
        if (nums.size() <= k) return nums.size();

        int count = 1; // å†™å…¥ä½ç½®
        int same = 1;  // å½“å‰æ•°å­—é‡å¤è®¡æ•°

        for (int i = 1; i < nums.size(); ++i) {
            if (nums[i] != nums[i - 1]) {
                // æ–°æ•°å­—ï¼Œé‡ç½®é‡å¤è®¡æ•° same=1
                nums[count] = nums[i];
                count++;
                same = 1;
            } else if (same < k) {
                // ç›¸åŒä½†æ¬¡æ•°æ²¡è¶…è¿‡kï¼Œä¿ç•™
                nums[count] = nums[i];
                count++;
                same++;
            }
            // å¦åˆ™ï¼Œç›¸åŒä¸”è¶…è¿‡kæ¬¡ï¼Œè·³è¿‡
        }

        return count;
    }
};
```

---

## âœ… ä½¿ç”¨ç¤ºä¾‹ï¼š

```cpp
int main() {
    Solution s;
    vector<int> nums = {1,1,1,1,2,2,3,3,3};
    int k = 3;
    int new_len = s.removeDuplicates(nums, k);

    for (int i = 0; i < new_len; ++i) {
        cout << nums[i] << " ";
    }
    cout << "\né•¿åº¦: " << new_len << endl;
}
```

è¾“å‡ºï¼š

```
1 1 1 2 2 3 3 3 
é•¿åº¦: 8
```

---

## âœ… Bonusï¼šä½ è¿˜èƒ½ç»§ç»­æŒ‘æˆ˜

ä½ å¯ä»¥è¯•ç€æŠŠå®ƒæ”¹æˆ**åªä¿ç•™ç¬¬1ä¸ªã€ç¬¬2ä¸ªã€ç¬¬kä¸ªï¼ˆæ¯”å¦‚ç¬¬å¥‡æ•°æ¬¡å‡ºç°çš„ï¼‰**ï¼Œè¿™æ ·ä½ ä¼šè¿›ä¸€æ­¥æŒæ¡**æŒ‰è§„åˆ™ç­›é€‰é‡å¤é¡¹**çš„æŠ€å·§ã€‚

éœ€è¦æˆ‘å‡ºä¸€é¢˜ç»ƒç»ƒä½ å—ï¼ŸğŸ˜„

